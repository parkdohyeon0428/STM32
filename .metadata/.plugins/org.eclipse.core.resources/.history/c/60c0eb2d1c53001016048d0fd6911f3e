/*
 * Controller.c
 *
 *  Created on: Jun 24, 2025
 *      Author: rhoblack
 */
#include "Controller.h"

typedef enum{
	S_STOP,
	S_START
}ModeState_t;

void Controller_Mode();


inputData_TypeDef controlData = {0};

static ModeState_t modeState = S_STOP;

void Controller_Excute()
{
	Controller_Mode();
//	treadmill_run();
//	treadmill_emergency();
}

void Controller_SetInputData(inputData_TypeDef inputData)
{
	controlData.id = inputData.id;
}

void Controller_Mode()
{
	switch (modeState)
	{
	case S_STOP:
		if (controlData.id = START_ACT)
		{
			treadmill_run();
			modeState = S_START;
		}
		break;
	case S_START:
		treamill_emergency();

		if (controlData.id == STOP_ACT)
		{
			treadmill_run();
			modeState = S_STOP;
		}
		else if (controlData.id == UP_ACT)
		{
			treadmill_run();
		}
		else if (controlData.id == DOWN_ACT)
		{
			treadmill_run();
		}
		break;
	}

}
